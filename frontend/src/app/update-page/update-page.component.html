<div class="update-page">
  <h1 class="title">Add a Product</h1>

  <form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="form-container">
    <div class="form-group">
      <label for="productName">Name</label>
      <input type="text" id="productName" formControlName="productName" required class="form-input" />
    </div>

    <div class="form-group">
      <label for="productPrice">Price</label>
      <input type="number" id="productPrice" formControlName="productPrice" required class="form-input" />
    </div>

    <div class="form-group">
      <label for="productDescription">Description</label>
      <input type="text" id="productDescription" formControlName="productDescription" required class="form-input" />
    </div>

    <button type="submit" [disabled]="!productForm.valid" class="submit-button">Add Product</button>
  </form>
  <br>

  <hr />

  <br>
  <h2 class="title">Existing Products</h2>
  <div *ngIf="products.length > 0">
    <div class="products-list">
      <div *ngFor="let product of products; let i = index" class="product-item">
        <div class="product-details">
          <strong>{{ product.name }}</strong><br />
          ID: {{ product.id }}<br />
          Price: {{ product.price }}â‚¬<br />
          Description: {{ product.description }}
        </div>

        <form [formGroup]="editForm[i]" (ngSubmit)="onEditSubmit(product.id, i)" class="edit-form">
          <div class="form-group">
            <label for="editName{{ product.id }}">Name</label>
            <input type="text" id="editName{{ product.id }}" formControlName="productName" class="form-input" />
          </div>

          <div class="form-group">
            <label for="editPrice{{ product.id }}">Price</label>
            <input type="number" id="editPrice{{ product.id }}" formControlName="productPrice" class="form-input" />
          </div>

          <div class="form-group">
            <label for="editDescription{{ product.id }}">Description</label>
            <input type="text" id="editDescription{{ product.id }}" formControlName="productDescription" class="form-input" />
          </div>

          <button type="submit" [disabled]="!editForm[i].valid" class="submit-button">Edit</button>
        </form>
      </div>
    </div>
  </div>

  <div *ngIf="products.length === 0">
    <p>No products available.</p>
  </div>
</div>
